(window["webpackJsonporderbook-calc"]=window["webpackJsonporderbook-calc"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(4),o=a.n(r),c=(a(13),a(1)),i=a.n(c),u=a(2),s=a(5),d=a(7),m=a(6),p=a.n(m);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var b=function(){var e=Object(n.useState)({loading:!0,usdCost:"",data:"",orderBook:"",buyQuantity:"",sellAvailable:0,buyAvailable:0,sellTotal:0,buyTotal:0,totals:"",spread:0}),t=Object(d.a)(e,2),a=t[0],r=t[1],o=Object(n.useRef)(null);Object(n.useEffect)(function(){var e=function(){var e=Object(s.a)(i.a.mark(function e(){var t,n,o,c,u,s,d,m,p,v,b,y,g;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching"),e.prev=1,e.next=4,fetch("https://cors-anywhere.herokuapp.com/https://api.chainrift.com/v1/Public/GetOrderBook?symbol=WBIUSDT",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:if((n=e.sent)&&n.data){for(o=0,c=0,u=0,s=0,d=0,m=0,p=[],v=n.data.length,b=0;b<v;b++)"Sell"===n.data[b].type&&(o+=n.data[b].quantity,u+=n.data[b].quantity*n.data[b].price,0===d&&(d=n.data[b].price),p.push(n.data[b])),"Buy"===n.data[b].type&&(c+=n.data[b].quantity,s+=n.data[b].quantity*n.data[b].price,m=n.data[b].price);y=d-m,g=n.data.map(function(e,t){return l.a.createElement("span",{key:t,className:e.type},l.a.createElement("div",null,e.type),l.a.createElement("div",null,"WBI "+e.quantity),l.a.createElement("div",null,"$ "+e.price),l.a.createElement("div",null,"$ "+Number(e.price*e.quantity).toLocaleString("en")))}),r(f({},a,{loading:!1,data:JSON.stringify(p),spread:y,orderBook:g,sellAvailable:o,buyAvailable:c,sellTotal:u,buyTotal:s}))}e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(){return e.apply(this,arguments)}}();a.orderBook||e()},[a]);var c=Object(n.useRef)(null);return l.a.createElement("div",{className:"layout-grid"},l.a.createElement("div",{className:"layout-title"},"WBIxUSDT order book price calculator"),l.a.createElement("div",{className:"section-grid"},l.a.createElement("div",null,"Quantity"),l.a.createElement("div",null,l.a.createElement("label",null,"Buy WBI Quantity"),l.a.createElement("input",{type:"number",value:a.buyQuantity,name:"buyQuantity",onChange:function(e){r(f({},a,Object(u.a)({},e.target.name,e.target.value)))},ref:c}))),l.a.createElement("div",{className:"section-grid"},l.a.createElement("div",null,"Orderbook"),l.a.createElement("div",null,l.a.createElement("div",{className:"data-grid"},a.orderBook),l.a.createElement("hr",null),l.a.createElement("div",{className:"data-grid-totals"},l.a.createElement("span",null,l.a.createElement("b",null,"Buy Total:"),l.a.createElement("div",null,"$ ",Number(a.buyTotal).toLocaleString("en")),l.a.createElement("div",null)),l.a.createElement("span",null,l.a.createElement("b",null,"Buy Volume:"),l.a.createElement("div",null,"WBI ",Number(a.buyAvailable).toLocaleString("en")),l.a.createElement("div",null))),l.a.createElement("hr",null),l.a.createElement("div",{className:"data-grid-totals"},l.a.createElement("span",null,l.a.createElement("b",null,"Sell Total:"),l.a.createElement("div",null,"$ ",Number(a.sellTotal).toLocaleString("en")),l.a.createElement("div",null)),l.a.createElement("span",null,l.a.createElement("b",null,"Sell Volume:"),l.a.createElement("div",null,"WBI ",Number(a.sellAvailable).toLocaleString("en")),l.a.createElement("div",null))),l.a.createElement("hr",null),l.a.createElement("div",{className:"data-grid-totals"},l.a.createElement("span",null,l.a.createElement("b",null,"Spread:"),l.a.createElement("div",null,"$ ",Number(a.spread).toLocaleString("en")),l.a.createElement("div",null))))),l.a.createElement("div",{className:"section-grid"},l.a.createElement("div",null,"Cost"),l.a.createElement("div",null,l.a.createElement("label",null,"Total USD Cost"),l.a.createElement("input",{type:"text",readOnly:!0,value:a.usdCost,ref:o}))),l.a.createElement("div",{className:"section-grid"},l.a.createElement("small",null,"Order book fetched from Chinarift"),l.a.createElement("div",{className:"btn-grid"},l.a.createElement("div",null),l.a.createElement("button",{onClick:function(){for(var e=JSON.parse(a.data),t=e.length,n=parseFloat(a.buyQuantity),l=0,o=0;o<t;o++)n>0&&n<e[o].quantity?(l+=n*e[o].price,console.log("you just perchased ".concat(n," at the price of ").concat(e[o].price," a toal spend of ").concat(l)),n=0,console.log("You have 0 left to buy")):n>0&&n>e[o].quantity&&(l+=e[o].quantity*e[o].price,console.log("you just perchased ".concat(e[o].quantity," at the price of ").concat(e[o].price," a toal spend of ").concat(l)),n=n-=e[o].quantity,console.log("You have ".concat(n," left to buy")));r(f({},a,{usdCost:"$  ".concat(Number(l).toLocaleString("en"))}))}},a.loading?l.a.createElement("img",{src:p.a,alt:"loading",className:"loading"}):"Calculate"))))},y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(l.a.createElement(b,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/orderBookPrice",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/orderBookPrice","/service-worker.js");y?(!function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):g(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):g(t,e)})}}()},6:function(e,t,a){e.exports=a.p+"static/media/loading.6a19979e.svg"},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.de162c09.chunk.js.map